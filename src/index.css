@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  @keyframes slide-left {
    0% { transform: translateX(0); }
    100% { transform: translateX(-100%); }
  }
  
  @keyframes slide-right {
    0% { transform: translateX(0); }
    100% { transform: translateX(100%); }
  }
  
  @keyframes fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }

  @keyframes door-open {
    0% { 
      opacity: 0;
      transform: scaleX(0);
    }
    50% {
      opacity: 1;
      transform: scaleX(0.5);
    }
    100% { 
      opacity: 0;
      transform: scaleX(1);
    }
  }
  
  .animate-slide-left {
    animation: slide-left 0.8s ease-out forwards;
  }
  
  .animate-slide-right {
    animation: slide-right 0.8s ease-out forwards;
  }
  
  .animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
  }

  .animate-door-open {
    animation: door-open 1s ease-in-out forwards;
  }

  @keyframes float-up {
    0% {
      opacity: 1;
      transform: translateY(0);
    }
    100% {
      opacity: 0;
      transform: translateY(-100px);
    }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
  }

  .animate-float-up {
    animation: float-up 1.5s ease-out forwards;
  }

  .animate-shake {
    animation: shake 0.5s ease-in-out;
  }

  @keyframes glow {
    0% {
      box-shadow: 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.3);
    }
    50% {
      box-shadow: 0 0 20px rgba(0,255,255,0.6), 0 0 40px rgba(0,255,255,0.4);
    }
    100% {
      box-shadow: 0 0 10px rgba(0,255,255,0.3), 0 0 20px rgba(0,255,255,0.3);
    }
  }

  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(10px) scale(0.98);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-fadeInUp {
    animation: fadeInUp 0.5s forwards;
  }

  @keyframes gradient-shift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  .animate-gradient-shift {
    background-size: 200% 200%;
    animation: gradient-shift 4s ease infinite;
  }

  /* Toast animations */
  @keyframes slideInRight {
    0% {
      opacity: 0;
      transform: translateX(400px);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-slideInRight {
    animation: slideInRight 0.3s ease-out forwards;
  }

  /* Confetti animation */
  @keyframes confetti-fall {
    0% {
      opacity: 1;
      transform: translate(0, 0) rotate(0deg);
    }
    100% {
      opacity: 0;
      transform: translate(var(--tx), 300px) rotate(360deg);
    }
  }

  .animate-confetti {
    animation: confetti-fall 2s linear forwards;
  }

  /* Streak loss animation */
  @keyframes fire-to-heart {
    0% { opacity: 1; transform: scale(1) rotate(0deg); }
    50% { opacity: 0.7; transform: scale(1.1) rotate(-5deg); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); }
  }

  .animate-streak-loss {
    animation: fire-to-heart 0.6s ease-in-out;
  }

  /* Badge pop animation */
  @keyframes badge-pop {
    0% {
      opacity: 0;
      transform: scale(0.5) rotateZ(-20deg);
    }
    50% {
      transform: scale(1.1) rotateZ(5deg);
    }
    100% {
      opacity: 1;
      transform: scale(1) rotateZ(0deg);
    }
  }

  .animate-badge-pop {
    animation: badge-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Avatar entrance animation */
  @keyframes avatar-entrance {
    0% {
      opacity: 0;
      transform: translateY(100px) scale(0.5);
    }
    50% {
      opacity: 1;
      transform: translateY(-20px) scale(1.05);
    }
    70% {
      transform: translateY(10px) scale(1);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .animate-avatar-entrance {
    animation: avatar-entrance 2.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  /* Float particle effect */
  @keyframes float-particle {
    0% {
      opacity: 0;
      transform: translateY(0) translateX(0);
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      opacity: 0;
      transform: translateY(-100px) translateX(20px);
    }
  }

  .animate-float-particle {
    animation: float-particle var(--duration, 2s) ease-out forwards;
  }

  /* Shimmer effect for progress bars */
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }

  /* Card hover lift effect */
  @keyframes card-lift {
    0% { transform: translateY(0) scale(1); }
    100% { transform: translateY(-4px) scale(1.02); }
  }

  .hover-lift:hover {
    animation: card-lift 0.3s ease forwards;
  }

  /* Glow pulse for XP badges */
  @keyframes xp-glow {
    0%, 100% { 
      box-shadow: 0 0 5px rgba(6, 182, 212, 0.3);
    }
    50% { 
      box-shadow: 0 0 20px rgba(6, 182, 212, 0.6), 0 0 30px rgba(6, 182, 212, 0.4);
    }
  }

  .animate-xp-glow {
    animation: xp-glow 2s ease-in-out infinite;
  }

  /* Stagger animation for list items */
  @keyframes stagger-fade-in {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-stagger {
    animation: stagger-fade-in 0.5s ease-out forwards;
    animation-delay: var(--delay, 0s);
  }
}

@layer utilities {
  @keyframes confetti-piece-fall {
    0% {
      opacity: 1;
      transform: translate3d(0, -10%, 0) rotate(0deg);
    }
    50% {
      opacity: 0.9;
      transform: translate3d(var(--confetti-sway, 0px), 150px, 0) rotate(180deg);
    }
    100% {
      opacity: 0;
      transform: translate3d(calc(var(--confetti-sway, 0px) * -1), 280px, 0) rotate(360deg);
    }
  }

  .confetti-piece {
    position: absolute;
    top: -10%;
    width: 10px;
    height: 16px;
    border-radius: 3px;
    animation: confetti-piece-fall linear infinite;
  }

  @keyframes sparkle-pulse {
    0% {
      transform: scale(0.9) rotate(0deg);
      opacity: 0.5;
    }
    100% {
      transform: scale(1.1) rotate(30deg);
      opacity: 0.85;
    }
  }

  .sparkle {
    border-radius: 9999px;
    filter: blur(12px);
    animation: sparkle-pulse 2.4s ease-in-out infinite alternate;
  }

  @keyframes firework-burst {
    0% {
      transform: scale(0.4);
      opacity: 0.9;
    }
    70% {
      transform: scale(3.2);
      opacity: 0;
    }
    100% {
      opacity: 0;
    }
  }

  .firework {
    position: absolute;
    width: 12px;
    height: 12px;
    border-radius: 9999px;
    background: radial-gradient(circle, #fff 0%, #facc15 40%, transparent 70%);
    box-shadow: 0 0 18px rgba(250, 204, 21, 0.8);
    animation: firework-burst 1.4s ease-out infinite;
  }

  @keyframes pop-in {
    0% {
      transform: translateY(10px) scale(0.8);
      opacity: 0;
    }
    45% {
      transform: translateY(-6px) scale(1.1);
      opacity: 1;
    }
    100% {
      transform: translateY(0) scale(1);
      opacity: 0.85;
    }
  }

  .animate-pop {
    animation: pop-in 1.4s ease-out infinite;
  }
}


/* ========================================
   AVATAR ANIMATIONS - Animaciones del Avatar
   ======================================== */
